<div class="auth-container">
  <div class="left-section" [ngClass]="activeUserType">
    <div class="overlay">
      <div class="content">
        <h1 class="main-heading">{{ getRoleContent().heading }}</h1>
        <p class="sub-heading">{{ getRoleContent().subheading }}</p>
        
        <div class="user-type-selection">
          <button class="user-type-btn" 
                  [class.active]="activeUserType === 'jobseeker'"
                  (click)="setActiveUserType('jobseeker')">
            JOBSEEKER
          </button>
          <button class="user-type-btn" 
                  [class.active]="activeUserType === 'employer'"
                  (click)="setActiveUserType('employer')">
            EMPLOYER
          </button>
          <button class="user-type-btn" 
                  [class.active]="activeUserType === 'admin'"
                  (click)="setActiveUserType('admin')">
            ADMIN
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="right-section">
    <div class="header">
      <div class="logo">
        <i class="fas fa-leaf"></i>
        <span class="logo-text">RuralConnect</span>
      </div>
      
      <div class="welcome-section">
        <h2>Welcome To RuralConnect</h2>
        <p>Your Skills. Your future. One Platform</p>
      </div>

      <div class="top-user-tabs">
        <button class="tab-btn job-seeker-tab" 
                [class.active]="activeUserType === 'jobseeker'"
                (click)="setActiveUserType('jobseeker')">
          <i class="fas fa-search"></i>
          Job Seeker
        </button>
        <button class="tab-btn employer-tab" 
                [class.active]="activeUserType === 'employer'"
                (click)="setActiveUserType('employer')">
          <i class="fas fa-building"></i>
          Employer
        </button>
        <button class="tab-btn admin-tab" 
                [class.active]="activeUserType === 'admin'"
                (click)="setActiveUserType('admin')">
          <i class="fas fa-user-tie"></i>
          Admin
        </button>
      </div>

      <div class="auth-toggle">
        <span class="toggle-link" 
              [class.active]="activeForm === 'login'"
              (click)="setActiveForm('login')">Login</span>
        <span class="toggle-link" 
              [class.active]="activeForm === 'signup'"
              (click)="setActiveForm('signup')">SignUp</span>
      </div>
    </div>

    <form class="auth-form" *ngIf="activeForm === 'login'" (ngSubmit)="onLogin()">
      <div class="input-group">
        <div class="input-wrapper">
          <i class="fas fa-envelope input-icon"></i>
          <input type="email" 
                 [(ngModel)]="loginEmail" 
                 name="loginEmail"
                 placeholder="Enter your Email" 
                 class="form-input" 
                 required>
        </div>
      </div>
      <div class="input-group">
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <input [type]="showLoginPassword ? 'text' : 'password'" 
                 [(ngModel)]="loginPassword" 
                 name="loginPassword"
                 placeholder="Enter your Password" 
                 class="form-input" 
                 required>
          <button type="button" 
                  class="password-toggle"
                  (click)="toggleLoginPassword()">
            <i [class]="showLoginPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>
      </div>

      <div class="form-options">
        <label class="remember-me">
          <input type="checkbox" 
                 [(ngModel)]="rememberMe" 
                 name="rememberMe">
          <span class="checkmark"></span>
          Remember Me?
        </label>
      <p><a (click)="onForgotPassword()" routerLink="/reset-password" class="forgot-password">Forgot your password?</a></p>
      </div>
      <button type="submit" class="auth-btn">LOGIN</button>
    </form>

    <form class="auth-form" *ngIf="activeForm === 'signup'" (ngSubmit)="onSignUp()">
      <div class="input-group">
        <div class="input-wrapper">
          <i class="fas fa-user input-icon"></i>
          <input type="text" 
                 [(ngModel)]="signupName" 
                 name="signupName"
                 placeholder="Enter your Name" 
                 class="form-input" 
                 required>
        </div>
      </div>
      <div class="input-group">
        <div class="input-wrapper">
          <i class="fas fa-envelope input-icon"></i>
          <input type="email" 
                 [(ngModel)]="signupEmail" 
                 name="signupEmail"
                 placeholder="Enter your Email" 
                 class="form-input" 
                 required>
        </div>
      </div>
      <div class="input-group">
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <input [type]="showSignupPassword ? 'text' : 'password'" 
                 [(ngModel)]="signupPassword" 
                 name="signupPassword"
                 placeholder="Enter your Password" 
                 class="form-input" 
                 required>
          <button type="button" 
                  class="password-toggle"
                  (click)="toggleSignupPassword()">
            <i [class]="showSignupPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>
      </div>

      <div *ngIf="activeUserType === 'employer'">
        <div class="input-group">
          <div class="input-wrapper">
            <i class="fas fa-building input-icon"></i>
            <input type="text" 
                   [(ngModel)]="companyName" 
                   name="companyName"
                   placeholder="Enter your Company Name" 
                   class="form-input">
          </div>
        </div>
        <div class="input-group">
          <div class="input-wrapper">
            <i class="fas fa-key input-icon"></i>
            <input [type]="showCompanyPassword ? 'text' : 'password'" 
                   [(ngModel)]="companyPassword" 
                   name="companyPassword"
                   placeholder="Enter your Company Password" 
                   class="form-input">
            <button type="button" 
                    class="password-toggle"
                    (click)="toggleCompanyPassword()">
              <i [class]="showCompanyPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </button>
          </div>
        </div>
        <div class="input-group">
          <div class="input-wrapper">
            <i class="fas fa-phone input-icon"></i>
            <input type="tel" 
                   [(ngModel)]="contactNumber" 
                   name="contactNumber"
                   placeholder="Enter your Contact Number" 
                   class="form-input">
          </div>
        </div>
      </div>

      <button type="submit" class="auth-btn">SIGN UP</button>
    </form>
  </div>
</div>